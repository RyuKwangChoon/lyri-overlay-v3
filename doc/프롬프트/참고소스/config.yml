tunnel: lyri-tunnel
credentials-file: C:\Users\BrianRyu\.cloudflared\fe1d9a7c-59d9-45e8-9e59-2ffbde6f0e88.json

originRequest:
  noTLSVerify: true
  connectTimeout: 3s
  disableChunkedEncoding: true
  httpHostHeader: 127.0.0.1   # âœ… ì—¬ê¸°ì„œ IPv4 ê°•ì œ (í•µì‹¬!)
  headers:
    Access-Control-Allow-Origin: "*"
    Access-Control-Allow-Headers: "Content-Type, Authorization"

ingress:
  # ğŸ§  REST API (ê²Œì´íŠ¸)
  - hostname: api.lyrisudabang.com
    path: /fromGpt
    service: http://127.0.0.1:8788   # âœ… localhost â†’ 127.0.0.1

  # ğŸ’¬ WebSocket (í•µì‹¬)
  - hostname: api.lyrisudabang.com
    path: /ws
    service: http://127.0.0.1:8787   # âœ… IPv4 ê°•ì œ

  # ğŸµ MP3 ì—…ë¡œë“œ ìŠ¤íŠ¸ë¦¬ë° (í•µì‹¬ ìˆ˜ì •)
  - hostname: api.lyrisudabang.com
    path: /uploads
    service: http://127.0.0.1:8787
    originRequest:
      connectTimeout: 3000s        # âœ… ê¸¸ê²Œ ìœ ì§€
      disableChunkedEncoding: false # âœ… íŒŒì¼ ì „ì†¡ì€ chunked í—ˆìš©
      noTLSVerify: true
      httpHostHeader: api.lyrisudabang.com

  # ---- API (ê·¸ ì™¸ ì „ë¶€ â†’ ì„œë²„ë¡œ ì „ë‹¬)
  - hostname: api.lyrisudabang.com
    service: http://127.0.0.1:8787   # âœ… IPv4 ê°•ì œ
    
  # ğŸ–¥ Overlay UI
  - hostname: overlay.lyrisudabang.com
    service: http://127.0.0.1:8787   # âœ… IPv4 ê°•ì œ

  # ğŸ§  REST API (GPT ì†¡ì¶œìš© ì¶”ê°€ ë„ë©”ì¸)
  - hostname: gpt.lyrisudabang.com
    path: /fromGpt
    service: http://127.0.0.1:8788   # âœ… IPv4 ê°•ì œ

  # ğŸš¨ ê¸°ë³¸ 404 ì²˜ë¦¬
  - service: http_status:404
